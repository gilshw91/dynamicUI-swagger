(this["webpackJsonptest-swaggerui"]=this["webpackJsonptest-swaggerui"]||[]).push([[0],{54:function(e,t,a){e.exports=a(71)},62:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=a(7),i=a(24),u=a(6),s=a(74),m=a(40),p=a(75),d=a(76),f=a(81),b=a(80),E=function(e){var t=e.menuItems,a=e.selectedIndex,n=e.onItemClick;return r.a.createElement(f.a,{bg:"dark",variant:"dark"},r.a.createElement(b.a,{activeKey:t[a],className:"mr-auto"},t.map((function(e,t){return r.a.createElement(b.a.Link,{key:e,eventKey:e,onClick:function(){return n(t)}},e)}))))},v=function(e){var t=e.name,a=e.label,n=e.type,c=e.placeholder,l=e.value,o=e.error,i=e.onChange,u="form-group";return o&&o.length>0&&(u+=" has-error"),r.a.createElement("div",{className:u},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:n,name:t,className:"form-control",placeholder:c,value:l,onChange:i}),o&&r.a.createElement("div",{className:"alert alert-danger"},o)))};v.defaultProps={type:"text"};var h=v,y=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},g=function(e){return Array.isArray(e)?"array":typeof e},k=function(e){var t=e.name,a=e.label,n=e.onChange,c=e.defaultOption,l=e.value,o=e.error,i=e.options;return r.a.createElement(m.a.Group,{controlId:t},r.a.createElement(m.a.Label,null,a),r.a.createElement(m.a.Control,{as:"select",name:t,value:l,onChange:n,defaultValue:c},r.a.createElement("option",{value:""},"-- Select ",a," --"),i.map((function(e){return r.a.createElement("option",{key:e,value:e},y(e))})),o&&r.a.createElement("div",{className:"alert alert-danger"},o)))},O=(a(62),function(e){var t=e.label,a=e.name,n=e.placeHolder,c=e.value,l=e.onChange,o=c,i=null,s=function(e){var t=Object(u.a)(o);t.splice(e,1),l({target:{value:t.length>0?[t]:[],name:a}})};return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:a},t),r.a.createElement("div",{className:"input-tag"},r.a.createElement("ul",{name:a,className:"input-tag__tags"},o.map((function(e,t){return r.a.createElement("li",{key:e},e,r.a.createElement("button",{type:"button",onClick:function(){s(t)}},"+"))})),r.a.createElement("li",{className:"input-tag__tags__input"},r.a.createElement("input",{type:"text",placeholder:n,onKeyDown:function(e){var t=e.target.value;if("Enter"===e.key&&t){if(o.find((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())})))return;i.value=null,l({target:{value:[].concat(Object(u.a)(o),[t]),name:a}})}else"Backspace"!==e.key||t||s(o.length-1)},ref:function(e){i=e}})))))}),j=a(79),C=function(e){var t=e.open,a=e.onClose,n=e.onSaveClicked,c=e.title,l=e.buttonName,o=e.children;return r.a.createElement(j.a,{show:t,onHide:a},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,c)),r.a.createElement(j.a.Body,null,o),r.a.createElement(j.a.Footer,null,r.a.createElement(s.a,{variant:"secondary",onClick:a},"Close"),r.a.createElement(s.a,{onClick:n},l||"Save Changes")))},w=a(23),I=(a(63),function(e){var t=e.appInfo,a=e.menuItems,c=e.selectedMenuItemIndex,l=e.uiObject,o=e.fetchResponse,i=e.onUiInputChange,u=e.editDeleteButtons,f=e.onMenuItemClick,b=e.onPostOptionClicked,v=e.onSubmit,j=e.onEditClicked,I=e.onDeleteClicked,x=e.onTogglePopupDialog,S=e.openPopupDialog,q=e.onDeleteConfirmed,D=e.closeOpenDeletePopUpDialog,N=e.openDeletePopupDialog,P=o.data,_=o.loading,A=o.error,R=l.displayFilters,U=l.tableColumns,F=l.tableDataArray,L=l.displayPostOptionsArray,V=l.formInModal,B=l.errors,T=u.isPutInService,$=u.isDeleteInService,J=a[c],M=null===L||void 0===L?void 0:L.map((function(e,t){return r.a.createElement(s.a,{key:e.operation,onClick:function(){return b(t,e.path)}},y(e.operation))})),G=null===R||void 0===R?void 0:R.map((function(e,t){var a=e.name,n=e.type?e.type:"text",c=e.options?e.options:[],l=e.value;return"array"===n?0===c.length?r.a.createElement(O,{key:"".concat(a,"_").concat(t),label:y(a),name:a,placeHolder:"Add "+y(a),value:l||[],onChange:function(e){return i(e)}}):r.a.createElement("div",{key:"".concat(a,"_").concat(t),className:"col"},r.a.createElement(k,{name:a,label:y(a),options:c,value:l,onChange:function(e){return i(e)}})):r.a.createElement("div",{key:"".concat(a,"_").concat(t),className:"col"},r.a.createElement(h,{name:a,label:y(a),type:n,value:l,onChange:function(e){return i(e)}}))})),H=null===F||void 0===F?void 0:F.map((function(e,t){return r.a.createElement(n.Fragment,{key:t},r.a.createElement("tr",null,null===U||void 0===U?void 0:U.map((function(a){switch(g(e[a])){case"object":return r.a.createElement("td",{key:"".concat(a,"_").concat(t)},Object.entries(e[a]).join());case"array":return"object"===g(e[a][0])?r.a.createElement("td",{key:"".concat(a,"_").concat(t)},Object.entries(e[a][0]).join()):r.a.createElement("td",{key:"".concat(a,"_").concat(t)},e[a].join());default:return r.a.createElement("td",{key:"".concat(a,"_").concat(t)},e[a])}})),r.a.createElement("td",{className:"actions-buttons-wrapper"},T.length>0?r.a.createElement(s.a,{variant:"warning",onClick:function(){return j(t)}},"Edit"):null,$.length>0?r.a.createElement(s.a,{variant:"danger",onClick:function(){return I(t)}},"Delete"):null)))}));return r.a.createElement(n.Fragment,null,r.a.createElement(C,{open:S,onClose:x,onSaveClicked:v,title:J},r.a.createElement(m.a,null,V,B&&Object.keys(B).length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{color:"red"}},"The following fields are required:"),r.a.createElement("ul",null,Object.keys(B).map((function(e){return r.a.createElement("li",{key:e,style:{color:"red"}},y(e))})))))),r.a.createElement(C,{open:N,onClose:D,onSaveClicked:q,title:"Delete",buttonName:"Delete"},r.a.createElement(m.a,null,"Are you sure you want to delete this item?")),r.a.createElement(w.a,{autoClose:3e3}),r.a.createElement("div",{className:"generated-app-header"},r.a.createElement("h3",null,t.title),r.a.createElement("p",null,"Version ",t.version)),r.a.createElement(E,{menuItems:a,selectedIndex:c,onItemClick:function(e){return f(e)}}),r.a.createElement("div",{className:"container p-4"},r.a.createElement("div",{className:"post-buttons-wrapper"},M),r.a.createElement(m.a,{className:"row"},G),_?r.a.createElement("div",null,"Loading..."):A?r.a.createElement("div",null,"Error: ",A):H&&H.length>0?r.a.createElement(n.Fragment,null,r.a.createElement("br",null),r.a.createElement("h4",null,J," ",r.a.createElement(p.a,{variant:"secondary"},P.length)),r.a.createElement(d.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,U.map((function(e){return r.a.createElement("th",{key:e},y(e))})),r.a.createElement("th",{key:"action"},"Actions"))),r.a.createElement("tbody",null,H))):r.a.createElement("p",null,r.a.createElement("i",null,"No records to show"))))}),x=a(9),S=a.n(x),q=a(15),D=function(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(null),i=Object(o.a)(l,2),u=i[0],s=i[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),d=p[0],f=p[1],b=function(){var e=Object(q.a)(S.a.mark((function e(t,a){var n,r,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return s(null),c(null),f(!1),e.abrupt("return");case 5:return f(!0),e.prev=6,e.next=9,fetch(t,a);case 9:if(200===(n=e.sent).status){e.next=21;break}r="".concat(n.message," [").concat(n.status,"]"),e.t0=n.status,e.next=404===e.t0?15:17;break;case 15:return r="Not Found",e.abrupt("break",18);case 17:return e.abrupt("break",18);case 18:s(r),e.next=26;break;case 21:return e.next=23,n.json();case 23:l=e.sent,s(null),c(l);case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(6),s(e.t1.message);case 31:return e.prev=31,f(!1),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[6,28,31,34]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){e&&b(e)}),[e]),[{data:r,error:u,loading:d},b]},N=a(48),P=a(77),_=a(47),A=(a(65),a(66),function(){return w.b.error("Operation has failed!")}),R=a(53),U=function(e){var t=e.specsJson,a=Object(n.useState)(0),c=Object(o.a)(a,2),l=c[0],s=c[1],p=Object(n.useState)([]),d=Object(o.a)(p,2),f=d[0],b=d[1],E=D(),v=Object(o.a)(E,2),h=v[0],k=h.data,O=h.error,j=h.loading,C=v[1],x=Object(n.useState)(),S=Object(o.a)(x,2),q=S[0],U=S[1],F=Object(R.a)(),L=F.register,V=F.errors,B=F.handleSubmit,T=Object(n.useState)(!1),$=Object(o.a)(T,2),J=$[0],M=$[1],G=Object(n.useState)(!1),H=Object(o.a)(G,2),K=H[0],W=H[1],z=Object(n.useState)(-1),Q=Object(o.a)(z,2),X=Q[0],Y=Q[1],Z=Object(n.useState)(""),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ne=[],re=[],ce=[],le=t.host,oe=t.basePath,ie=(t.schemes&&t.schemes.includes("https")?"https://":"http://")+le+oe,ue=Object.keys(t.paths).map((function(e){var t=e.substring(1),a=t.indexOf("/"),n=t;return a>0&&(n=t.substring(0,a)),y(n)})).filter((function(e,t,a){return a.indexOf(e)===t})),se=ue[l],me=t.definitions,pe=me[se];if(pe){var de=pe.properties;ne=Object.keys(de)}var fe=Object.entries(t.paths).filter((function(e){return e[0].startsWith("/"+se.toLowerCase())})),be=fe.filter((function(e){return Object.keys(e[1]).includes("get")})),Ee=fe.filter((function(e){return Object.keys(e[1]).includes("post")})),ve=fe.filter((function(e){return Object.keys(e[1]).includes("put")})),he=fe.filter((function(e){return Object.keys(e[1]).includes("delete")}))[0];be&&be.forEach((function(e){if(t.paths[e[0]].get.responses&&t.paths[e[0]].get.responses[200]&&t.paths[e[0]].get.responses[200].schema&&t.paths[e[0]].get.responses[200].schema.$ref){var a=t.paths[e[0]].get.responses[200].schema.$ref.replace("#/definitions/","");ne=Object.keys(me[a].properties)}}));var ye=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";if(!e)return console.log("optionData is null"),void A();M(!0);var c=[];if(Object.keys(e[1][n].parameters[0]).includes("schema")){var l,o,i=(Object.keys(e[1][n].parameters[0].schema).includes("items")?e[1][n].parameters[0].schema.items.$ref:e[1][n].parameters[0].schema.$ref).replace("#/definitions","").replace("/",""),s=t.definitions[i],p=Object.keys(s.properties);c=[].concat(Object(u.a)(c),[p.map((function(e,n){switch(s.properties[e].type){case"array":s.properties[e].items.type?l=r.a.createElement(m.a.Control,{type:"integer"===s.properties[e].items.type?"number":"text",name:e+"[0]",placeholder:"Please separate by comma",ref:L({required:"Required"}),defaultValue:a[e]}):(o=s.properties[e].items.$ref.replace("#/definitions","").replace("/",""),l=r.a.createElement(m.a.Group,{key:e,as:N.a,controlId:"".concat(e,"_").concat(n),ref:L({required:"Required"}),name:e},Object.keys(t.definitions[o].properties).map((function(c){return r.a.createElement(m.a.Control,{key:"".concat(c,"_").concat(n),type:"integer"===t.definitions[o].properties[c].type?"number":"text",name:[e+"[0]"+c],placeholder:y(e)+"-"+y(c),ref:L({required:"Required"}),defaultValue:Object.keys(a).length>0&&a[e][0]?a[e][0][c]:null})}))));break;case"string":s.properties[e].enum?(l=[],s.properties[e].enum.forEach((function(e){l=[].concat(Object(u.a)(l),[r.a.createElement("option",{key:e,name:e},e)])}))):l=r.a.createElement(m.a.Control,{type:"text",name:e,placeholder:"Please enter "+y(e),ref:L({required:"Required"}),defaultValue:a[e]});break;case"integer":l=r.a.createElement(m.a.Control,{type:"number",name:e,placeholder:"Please enter "+y(e),defaultValue:a[e],ref:L({required:"Required"})});break;case"file":l=r.a.createElement(m.a.Control,{type:"file",name:e,placeholder:"Please enter "+y(e),ref:L({required:"Required"})});break;case"boolean":l=[r.a.createElement("option",{key:"".concat(e,"_false"),value:Boolean(!1)},"False"),r.a.createElement("option",{key:"".concat(e,"_true"),value:Boolean(!0)},"True")];break;default:var c;if(s.properties[e].$ref){var i=s.properties[e].$ref.replace("#/definitions","").replace("/","");c=t.definitions[i],l=r.a.createElement(m.a.Group,{key:e,as:N.a,controlId:"".concat(e,"_").concat(n),ref:L({required:"Required"}),name:e},Object.keys(c.properties).map((function(t){return r.a.createElement(m.a.Control,{key:"".concat(t,"_").concat(n),type:"string"===c.properties[t].type?"text":"number",name:e+"."+t,placeholder:y(e)+"-"+y(t),ref:L({required:"Required"}),defaultValue:Object.keys(a).length>0&&a[e]?a[e][t]:null})})))}else l=r.a.createElement(m.a.Control,{type:"text",name:e,placeholder:"Please enter "+y(e),ref:L({required:"Required"})})}return r.a.createElement(m.a.Group,{key:"".concat(e,"_").concat(n),as:P.a,controlId:"".concat(e,"_").concat(n)},r.a.createElement(N.a,null,r.a.createElement(_.a,null," ",y(e))),r.a.createElement(N.a,null,Array.isArray(l)?r.a.createElement(m.a.Control,{as:"select",name:e,ref:L({required:"Required"}),defaultValue:a[e]},l):l))}))]),U(c)}else c=[].concat(Object(u.a)(c),[e[1][n].parameters.map((function(e,t){var a;switch(e.type){case"array":a=r.a.createElement(m.a.Control,{type:"string"===e.type?"text":"number",name:e.name+"[0]",placeholder:"Please separate by comma",ref:L({required:"Required"})});break;case"string":a=r.a.createElement(m.a.Control,{type:"text",name:e.name,placeholder:"Please enter "+y(e.name),ref:L({required:"Required"})});break;case"integer":a=r.a.createElement(m.a.Control,{type:"number",name:e.name,placeholder:"Please enter "+y(e.name),ref:L({required:"Required"})});break;case"file":a=r.a.createElement(m.a.Control,{type:"file",name:e.name,placeholder:"Please enter "+y(e.name),ref:L({required:"Required"})});break;default:a=r.a.createElement(m.a.Control,{type:"text",name:e.name+"."+e.name,placeholder:"Please enter "+y(e.name),ref:L({required:"Required"})})}return r.a.createElement(m.a.Group,{key:"".concat(e.name,"_").concat(t),as:P.a,controlId:"".concat(e.name,"_").concat(t)},r.a.createElement(N.a,null,r.a.createElement(_.a,null," ",y(e.name))),r.a.createElement(N.a,null,a))}))]),U(c)},ge=function(e){var t=re[e],a=Object.keys(t)[0],n=he[0],r=t[a],c=n.indexOf("{"),l=n.indexOf("}"),o=n.substring(c+1,l);W(!1);var s=n.replace("{"+o+"}",r);C("".concat(ie).concat(s),{method:"DELETE"}).then((function(){w.b.info("Deleted Sucssefully!"),C(null);var e,t=Object(u.a)(f);for(e=0;e<t.length;e++)t[e]=Object(i.a)(Object(i.a)({},t[e]),{},{value:""});b(t)}))};be.forEach((function(e){e[1].get.parameters.forEach((function(e){switch(e.type){case"integer":ce=[].concat(Object(u.a)(ce),[{name:e.name,type:"number",value:""}]);break;case"array":var t=e.items.enum?e.items.enum:[];ce=[].concat(Object(u.a)(ce),[{name:e.name,type:"array",options:t,value:""}]);break;default:ce=[].concat(Object(u.a)(ce),[{name:e.name,value:""}])}}))}));var ke=[];if(Ee.forEach((function(e){var t={path:e[0],operation:e[1].post.operationId};ke=[].concat(Object(u.a)(ke),[t])})),k)switch(g(k)){case"array":re.push.apply(re,Object(u.a)(k));break;case"object":re.push(k);break;default:throw new Error("unsupported object type")}r.a.useEffect((function(){return b(ce)}),[JSON.stringify(ce)]);var Oe={displayFilters:f,tableColumns:ne,tableDataArray:re,displayPostOptionsArray:ke,formInModal:q,errors:V},je={isPutInService:ve,isDeleteInService:he};return r.a.createElement(I,{appInfo:t.info,menuItems:ue,selectedMenuItemIndex:l,uiObject:Oe,editDeleteButtons:je,fetchResponse:{data:k,error:O,loading:j},onUiInputChange:function(e){var t,a=e.target,n=a.name,r=a.value,c=f.findIndex((function(e){return e.name===n})),l=Object(u.a)(f);for(t=0;t<l.length;t++)t===c?l[c]=Object(i.a)(Object(i.a)({},l[c]),{},{value:r}):l[t]=Object(i.a)(Object(i.a)({},l[t]),{},{value:""});if(b(l),r){var o=be[c];switch(o[1].get.parameters[0].in){case"query":C("".concat(ie).concat(o[0],"?").concat(n,"=").concat(r));break;case"path":var s=o[1].get.parameters[0].name,m=o[0].replace(s,r).replace("{","").replace("}","");C("".concat(ie).concat(m))}}else C(null)},onMenuItemClick:function(e){s(e),C(null)},onPostOptionClicked:function(e,t){var a=Ee[e];ae(t),ye(a)},onSubmit:B((function(e){var t=te.substring(1);if(t.includes("{")&&t.includes("}")){var a=t.indexOf("{")+1,n=t.indexOf("}"),r=t.substring(a,n);t=t.replace("{","").replace("}","").replace(r,e[r])}var c=Ee.findIndex((function(e){return e[0]===te})),l="",o="";switch(Ee[c][1].post.consumes[0]){case"application/x-www-form-urlencoded":l="application/x-www-form-urlencoded";var i=[];Object.keys(e).forEach((function(t){var a=encodeURIComponent(t),n=encodeURIComponent(e[t]);i.push(a+"="+n)})),o=i.join("&");break;default:l="application/json",o=JSON.stringify(e)}C("".concat(ie,"/").concat(t.toLowerCase()),{method:"POST",headers:{Accept:"application/json","Content-Type":l},body:o}).then((function(){M((function(e){return!e})),w.b.info("Submitted Sucssefully!")}))})),onEditClicked:function(e){var t=re[e],a=ve[0];ye(a,t,"put")},onDeleteClicked:function(e){Y(e),W(!0)},closeOpenDeletePopUpDialog:function(){return W((function(e){return!e}))},openDeletePopupDialog:K,onDeleteConfirmed:function(){return ge(X)},onTogglePopupDialog:function(){return M((function(e){return!e}))},openPopupDialog:J})},F=function(e){var t=e.specsApiUrl,a=D(t),n=Object(o.a)(a,1)[0],c=n.data,l=n.loading,i=n.error;return l?r.a.createElement("div",null,"Loading..."):i?r.a.createElement("div",null,"Fetch failed: ",i):c&&r.a.createElement(U,{specsJson:c})},L=(a(67),a(78)),V=a(46),B=function(e){var t=e.title,a=e.label,n=e.inputApiUrlValue,c=e.onFormSubmit,l=e.onInputApiUrlChange;return r.a.createElement("div",{className:"app-header"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,t),r.a.createElement(m.a,{className:"form-inline",onSubmit:c},r.a.createElement("label",{htmlFor:"api-url"},a),r.a.createElement(L.a,{style:{width:"65%"}},r.a.createElement(V.a,{id:"api-utl-input",name:"api-url",className:"ml-3",placeholder:"Example: https://petstore.swagger.io/v2/swagger.json",value:n,onChange:l})),r.a.createElement(s.a,{type:"submit",className:"ml-3"},"Update"))))},T=(a(68),function(){var e=Object(n.useState)("https://petstore.swagger.io/v2/swagger.json"),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(a),i=Object(o.a)(l,2),u=i[0],s=i[1];return r.a.createElement("div",{className:"app"},r.a.createElement(B,{title:"Dynamic UI",label:"OpenApi 2.0 source URL:",inputApiUrlValue:a,onInputApiUrlChange:function(e){return c(e.target.value)},onFormSubmit:function(e){e.preventDefault(),s(a)}}),r.a.createElement("div",{className:"container p-0 content-container"},r.a.createElement(F,{specsApiUrl:u})))});a(69),a(70);l.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.0252be2a.chunk.js.map